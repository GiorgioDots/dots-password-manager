<!-- <app-passwords-body>
  <app-drawer #drawer appCtrlKListener (ctrlKPressed)="onQuickSearch()">
    <aside drawerContent class="h-full overflow-y-auto scroll-smooth relative">
      <div
        class="p-2 pt-6 pb-4 text-xl font-semibold border-b border-primary bg-base-300 z-10 sticky top-0 bottom-0 w-full"
      >
        <label class="input input-bordered flex items-center gap-2">
          <input type="text" class="grow" placeholder="Search" />
          @if(!drawer.isMobileView()){
          <kbd class="kbd kbd-sm">⌘</kbd>
          <kbd class="kbd kbd-sm">K</kbd>
          }
        </label>
      </div>
      <ul class="p-2 pt-8 space-y-2 w-full menu flex-nowrap absolute top-16">
        <app-passwords-list [passwords]="passwords" (passwordSelected)="onEdit($event)"></app-passwords-list>
      </ul>
    </aside>
    <main mainContent class="h-full flex flex-col p-2">
      <div class="p-2 flex gap-2">
        <button
          (click)="drawer.toggleDrawer()"
          class="btn btn-secondary md:hidden"
        >
          <mat-icon>menu_open</mat-icon>
        </button>
        <button
          class="btn btn-outline btn-neutral flex items-center gap-2 flex-1 md:flex-initial md:hidden"
          (click)="onQuickSearch()"
        >
          <mat-icon>search</mat-icon>
          <span class="flex-1 text-start">Quick search...</span>
        </button>
        <button class="btn btn-primary ml-auto" (click)="onEdit(undefined)">
          <mat-icon>add</mat-icon>
        </button>
      </div>

      <div class="flex-1 relative">
        <div
          class="h-full w-full rounded-box bg-base-100 overflow-auto absolute top-0 p-2"
        >
          <router-outlet></router-outlet>
        </div>
      </div>
    </main>
  </app-drawer>
</app-passwords-body> -->
<main class="container" appCtrlKListener (ctrlKPressed)="searchInput.focus()">
  <div
    class="side_backdrop"
    [ngClass]="{ closed: sideClosed() }"
    (click)="sideClosed.set(true)"
  ></div>
  <aside class="side" [ngClass]="{ closed: sideClosed() }">
    <div class="side_container">
      <label class="input" style="margin-top: 0.75rem; margin-bottom: 1rem">
        <mat-icon>search</mat-icon>
        <input
          #searchInput
          type="text"
          placeholder="Search"
          [formControl]="searchCtrl"
        />
        <div class="search-actions">
          <kbd class="kbd kbd-sm">⌘</kbd>
          <kbd class="kbd kbd-sm">K</kbd>
          <mat-icon class="cursor-pointer" (click)="searchCtrl.reset()"
            >close</mat-icon
          >
        </div>
      </label>
      <div class="side_content">
        @if(favourites().length > 0){
        <h4 class="side_subtitle">Favourites</h4>
        } @for(pwd of favourites(); track pwd.PasswordId){
        <button
          class="btn side_link"
          [routerLink]="['/passwords', pwd.PasswordId]"
          routerLinkActive="active"
        >
          <span>
            {{ pwd.Name }}
          </span>
          <span
            class="favourite"
            [ngClass]="{ 'is-favourite': pwd.IsFavourite }"
            (click)="$event.stopPropagation(); toggleFavourite(pwd)"
          >
            <mat-icon>star</mat-icon>
          </span>
        </button>
        } @if(notFavourites().length > 0){
        <h4 class="side_subtitle">Passwords</h4>
        } @for(pwd of notFavourites(); track pwd.PasswordId){
        <button
          class="btn side_link"
          [routerLink]="['/passwords', pwd.PasswordId]"
          routerLinkActive="active"
        >
          <span>
            {{ pwd.Name }}
          </span>
          <span
            class="favourite"
            [ngClass]="{ 'is-favourite': pwd.IsFavourite }"
            (click)="$event.stopPropagation(); toggleFavourite(pwd)"
          >
            <mat-icon>star</mat-icon>
          </span>
        </button>
        }
      </div>
    </div>
  </aside>
  <section class="card content">
    <div class="main-content">
      <header class="main-content_header">
        <div style="display: flex; align-items: center; gap: 0.5rem">
          <button
            class="btn btn-crust btn-small"
            style=""
            (click)="sideClosed.set(!sideClosed())"
          >
            <mat-icon>view_sidebar</mat-icon>
          </button>
          <div class="vertical-separator"></div>
        </div>
        <button
          class="btn btn-primary btn-small"
          style="margin-left: auto; margin-right: 0.5rem"
          (click)="onEdit(undefined)"
        >
          <mat-icon>add</mat-icon>
        </button>
        <div>
          <button (click)="toggleTheme()" class="btn btn-crust btn-small">
            <mat-icon> light_mode </mat-icon>
          </button>
          <button
            style="margin-left: 0.5rem"
            (click)="logout()"
            class="btn btn-crust btn-small"
          >
            <mat-icon> logout </mat-icon>
          </button>
        </div>
      </header>
      <main class="main-content_content">
        <router-outlet></router-outlet>
      </main>
    </div>
  </section>
</main>
